<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Vitrine — Deck minimal</title>
<style>
  :root{
    --bg: #f7f8fa;
    --ink:#0f1115;
    --muted:#6b7280;
    --card:#ffffff;
    --ring:#e5e7eb;
    --acc:#0ea5a5;
    --radius:20px;
    --shadow: 0 10px 30px rgba(0,0,0,.08);
    --t: 300ms;
  }
  @media (prefers-color-scheme: dark){
    :root{ --bg:#0b0d11; --ink:#eef2f7; --muted:#9aa7b8; --card:#0f141b; --ring:#1f2937; --shadow:0 10px 30px rgba(0,0,0,.35)}
  }

  *{box-sizing:border-box}
  html,body{height:100%;margin:0;background:var(--bg);color:var(--ink);
    font:16px/1.5 system-ui, -apple-system, Segoe UI, Roboto, Inter, "Noto Sans", sans-serif;
    -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;}
  body{overscroll-behavior:none; touch-action:manipulation}

  /* Conteneur plein écran */
  .app{position:fixed; inset:0; display:flex; flex-direction:column}

  /* Barre top minimaliste */
  .topbar{display:flex; align-items:center; justify-content:space-between; gap:12px;
    padding:10px clamp(12px, 4vw, 28px); border-bottom:1px solid var(--ring); background:color-mix(in oklab, var(--card) 50%, transparent)}
  .brand{font-weight:700; letter-spacing:.2px}
  .kbd{font:12px/1.2 ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; color:var(--muted)}

  /* Zone "deck" (slides horizontales) */
  .deck{
    position:relative; flex:1; overflow:hidden; background:
      radial-gradient(1000px 600px at 50% 10%, color-mix(in oklab, var(--card) 60%, transparent), transparent);
  }
  .rail{
    height:100%; display:flex; will-change:transform;
    transition:transform var(--t) cubic-bezier(.2,.8,.2,1);
  }
  @media (prefers-reduced-motion: reduce){ .rail{transition:none} }

  /* Slide carte plein écran */
  .slide{
    flex:0 0 100%;
    padding: clamp(16px, 4vw, 36px);
    display:grid; place-items:center;
  }
  .card{
    width:min(960px, 92vw);
    min-height:min(76vh, 680px);
    display:grid; grid-template-rows:auto 1fr auto; gap:18px;
    background:var(--card); border:1px solid var(--ring);
    border-radius:var(--radius); box-shadow:var(--shadow);
    padding: clamp(16px, 4vw, 32px);
  }
  .card h1{margin:0; font-size:clamp(22px, 5vw, 40px); letter-spacing:-.02em}
  .card p{margin:0; color:var(--muted); font-size:clamp(14px, 2.6vw, 18px)}

  .grid{display:grid; gap:12px; grid-template-columns: repeat(12, 1fr)}
  .tile{
    grid-column: span 6;
    background:linear-gradient(180deg, color-mix(in oklab, var(--card) 85%, transparent), transparent);
    border:1px solid var(--ring); border-radius:14px; padding:14px; min-height:110px;
  }
  .tile small{color:var(--muted)}
  .tile h3{margin:6px 0 4px; font-size:clamp(16px, 2.4vw, 20px)}
  .tile p{margin:0; color:var(--muted); font-size:clamp(13px, 2.2vw, 16px)}

  /* Mobile : 1 colonne lisible, boutons larges */
  @media (max-width: 860px){
    .card{min-height: 72vh}
    .grid{grid-template-columns:1fr}
    .tile{grid-column:1/-1}
  }

  .actions{display:flex; flex-wrap:wrap; gap:10px}
  .btn{
    appearance:none; cursor:pointer;
    padding:10px 14px; border-radius:12px; border:1px solid var(--ring);
    background:transparent; color:var(--ink); transition:transform .12s ease;
  }
  .btn:active{transform:translateY(1px)}
  .btn.primary{background:var(--ink); color:var(--card); border-color:transparent}

  /* Contrôles fixés, accessibles et “thumb-friendly” */
  .controls{
    position:absolute; inset:auto 12px 12px 12px; display:flex; align-items:center; gap:10px; justify-content:center;
    pointer-events:none;
  }
  .pill{pointer-events:auto; display:flex; gap:8px; align-items:center; background:color-mix(in oklab, var(--card) 70%, transparent);
    border:1px solid var(--ring); padding:8px 10px; border-radius:999px; box-shadow:var(--shadow)}
  .navbtn{
    width:40px; height:40px; border-radius:999px; border:1px solid var(--ring); background:var(--card); display:grid; place-items:center; cursor:pointer;
  }
  .dots{display:flex; gap:6px; padding:0 6px}
  .dot{
    width:8px; height:8px; border-radius:50%; background:var(--ring); cursor:pointer;
  }
  .dot.active{ background:var(--acc); box-shadow:0 0 0 6px color-mix(in oklab, var(--acc) 25%, transparent)}

  /* Petite barre haute de progression */
  .progress{position:absolute; left:0; right:0; top:0; height:3px; background:var(--ring)}
  .bar{height:100%; width:0%; background:linear-gradient(90deg, var(--acc), color-mix(in oklab, var(--acc) 30%, transparent))}

  /* Aide tactile */
  .hint{
    position:absolute; left:50%; top:50%; transform:translate(-50%,-50%);
    color:var(--muted); font-size:13px; background:color-mix(in oklab, var(--card) 70%, transparent);
    border:1px dashed var(--ring); padding:8px 10px; border-radius:10px; user-select:none;
  }
  @media (pointer:fine){ .hint{display:none} }
</style>
</head>
<body>
<div class="app" aria-live="polite">
  <div class="topbar">
    <div class="brand">Vitrine</div>
    <div class="kbd">Astuce : ← → ou swipe</div>
  </div>

  <div class="deck" id="deck" aria-roledescription="carrousel">
    <div class="progress"><div class="bar" id="bar"></div></div>
    <div class="rail" id="rail">
      <!-- Slides injectés en JS -->
    </div>

    <div class="hint">Glisse latéralement</div>

    <div class="controls">
      <div class="pill">
        <button class="navbtn" id="prev" aria-label="Précédent">◄</button>
        <div class="dots" id="dots"></div>
        <button class="navbtn" id="next" aria-label="Suivant">►</button>
      </div>
    </div>
  </div>
</div>

<script>
/* ——— Données de contenu (modifie ici) ——— */
const SLIDES = [
  {
    title:"Accueil — cap sur l’essentiel",
    subtitle:"Une vitrine minimaliste et différente : navigation horizontale, cartes focalisées.",
    tiles:[
      {k:"Manifeste", v:"Clarté, espace, lisibilité sans surcharge."},
      {k:"Interaction", v:"Swipe sur mobile, flèches ou clics sur desktop."},
      {k:"Design", v:"Grille bento, composants sobres, dark-mode natif."},
      {k:"Perf", v:"Zéro framework, animations GPU 2D, légèreté."},
    ],
    cta:["Découvrir","Contact"]
  },
  {
    title:"À propos — notre approche",
    subtitle:"Créer moins mais mieux : utile, durable, élégant.",
    tiles:[
      {k:"Sobriété", v:"Aller à l’essentiel, supprimer le bruit visuel."},
      {k:"Qualité", v:"Micro-interactions douces, pas d’artifice gratuit."},
      {k:"Durabilité", v:"Code simple, maintenable, frugal."},
      {k:"Accessibilité", v:"Clavier, ARIA, tailles fluides."},
    ],
    cta:["Notre méthode"]
  },
  {
    title:"Technologie — front léger",
    subtitle:"Vanilla JS, HTML sémantique, CSS variables.",
    tiles:[
      {k:"Composabilité", v:"Modules petits, clairs, testables."},
      {k:"Intégrations", v:"APIs sobres, analytics éthiques."},
      {k:"Performance", v:"60fps visés, lazy data."},
      {k:"Handoff", v:"Guidelines, tokens design, assets."},
    ],
    cta:["Voir un proto","Specs"]
  },
  {
    title:"Travaux — sélection",
    subtitle:"Exemples concrets et résultats.",
    tiles:[
      {k:"Produit A", v:"Pilotage simple, vues claires."},
      {k:"Produit B", v:"Cartes minimalistes, data utile."},
      {k:"Impact", v:"NPS +18, erreurs -24%."},
      {k:"Adoption", v:"+31% d’usage hebdo."},
    ],
    cta:["Études de cas"]
  },
  {
    title:"Contact — parlons",
    subtitle:"Un besoin, une idée, une refonte ?",
    tiles:[
      {k:"Email", v:"hello@vitrine.example"},
      {k:"RDV", v:"30 minutes pour cadrer."},
      {k:"Livrables", v:"Prototype + guideline."},
      {k:"Engagement", v:"Clarté et exigence."},
    ],
    cta:["Écrire","Prendre RDV"]
  }
];

/* ——— Elements ——— */
const rail  = document.getElementById('rail');
const dots  = document.getElementById('dots');
const bar   = document.getElementById('bar');
const prevB = document.getElementById('prev');
const nextB = document.getElementById('next');

let idx = 0;

/* ——— Render ——— */
function renderSlides(){
  rail.innerHTML = "";
  SLIDES.forEach((s,i)=>{
    const slide = document.createElement('section');
    slide.className = 'slide';
    slide.setAttribute('aria-label', s.title);

    slide.innerHTML = `
      <div class="card">
        <header>
          <h1>${s.title}</h1>
          <p>${s.subtitle}</p>
        </header>
        <main class="grid">
          ${s.tiles.map(t => `
            <div class="tile">
              <small>${t.k}</small>
              <h3>${t.v}</h3>
              <p></p>
            </div>
          `).join('')}
        </main>
        <footer class="actions">
          ${(s.cta||[]).map((c,j)=> `<button class="btn ${j===0?'primary':''}">${c}</button>`).join('')}
        </footer>
      </div>
    `;
    rail.appendChild(slide);
  });

  dots.innerHTML = "";
  SLIDES.forEach((_,i)=>{
    const d = document.createElement('button');
    d.className = 'dot' + (i===idx?' active':'' );
    d.setAttribute('aria-label', `Aller à la diapositive ${i+1}`);
    d.addEventListener('click', ()=> go(i));
    dots.appendChild(d);
  });

  update();
}

/* ——— Navigation ——— */
function go(i){
  idx = (i + SLIDES.length) % SLIDES.length;
  rail.style.transform = `translateX(-${idx*100}%)`;
  update();
}

function update(){
  // dots & barre de progression
  [...dots.children].forEach((d,k)=> d.classList.toggle('active', k===idx));
  bar.style.width = ((idx+1)/SLIDES.length*100)+'%';
  // focus accessible
  const currentSlide = rail.children[idx];
  if(currentSlide){ currentSlide.setAttribute('tabindex','-1'); currentSlide.focus({preventScroll:true}); }
  // états boutons
  prevB.disabled = (SLIDES.length<=1);
  nextB.disabled = (SLIDES.length<=1);
}

/* ——— Gestes (mobile) ——— */
let startX=0, startY=0, isTouch=false, moved=false;
rail.addEventListener('touchstart', e=>{
  isTouch=true; moved=false;
  const t=e.touches[0]; startX=t.clientX; startY=t.clientY;
},{passive:true});

rail.addEventListener('touchmove', e=>{
  if(!isTouch) return;
  const t=e.touches[0]; const dx=t.clientX-startX; const dy=t.clientY-startY;
  if(Math.abs(dx)>Math.abs(dy) && Math.abs(dx)>20){
    moved=true;
    // slide en direct, mais borné pour ne pas “décrocher”
    rail.style.transition='none';
    rail.style.transform=`translateX(calc(${-idx*100}% + ${dx}px))`;
  }
},{passive:true});

function endSwipe(e){
  if(!isTouch) return;
  rail.offsetHeight; // reflow
  rail.style.transition='';
  if(moved){
    const t = (e.changedTouches?e.changedTouches[0]:e).clientX;
    const dx = t - startX;
    if(Math.abs(dx)>40){ dx<0 ? go(idx+1) : go(idx-1) }
    else { go(idx) }
  }
  isTouch=false;
}
rail.addEventListener('touchend', endSwipe, {passive:true});
rail.addEventListener('touchcancel', endSwipe, {passive:true});

/* ——— Clavier & boutons ——— */
window.addEventListener('keydown', e=>{
  if(e.key==='ArrowRight') go(idx+1);
  else if(e.key==='ArrowLeft') go(idx-1);
});
prevB.addEventListener('click', ()=> go(idx-1));
nextB.addEventListener('click', ()=> go(idx+1));

/* ——— Wheel horizontal (trackpads) ——— */
let wheelLock=false;
window.addEventListener('wheel', e=>{
  // autorise trackpads horizontaux, ignore scroll vertical pour éviter la “bagarre”
  if(wheelLock) return;
  if(Math.abs(e.deltaX) > Math.abs(e.deltaY)){
    wheelLock=true;
    (e.deltaX>0) ? go(idx+1) : go(idx-1);
    setTimeout(()=> wheelLock=false, 300);
  }
},{passive:true});

/* ——— Init ——— */
renderSlides();
go(0);

/* ——— Ajuste la hauteur (iOS safe-area) ——— */
function resizeVH(){
  document.documentElement.style.setProperty('--vh', window.innerHeight*0.01 + 'px');
}
window.addEventListener('resize', resizeVH);
resizeVH();
</script>
</body>
</html>
