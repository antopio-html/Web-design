<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Bar √† Chat ‚Äî Cartes d√©filantes (sans 3D)</title>
<meta name="description" content="Zone d‚Äôaccueil puis cartes plein √©cran avec d√©filement vertical, scroll-snap et animations fluides.">
<style>
  :root{
    /* Charte ‚Äúbar √† chat‚Äù latte/rose/menthe */
    --bg1:#f8f3ec; --bg2:#f3e7da; --ink:#2b2623; --muted:#6d625b;
    --primary:#c98552; --accent:#79c9bf; --rose:#f0a9b7;
    --panel:#ffffff; --line:#eadccd; --focus:#e08aa0;
    --radius:18px;
  }
  *{box-sizing:border-box}
  html,body{height:100%; margin:0}
  html{scroll-behavior:smooth}
  body{
    color:var(--ink);
    font: clamp(14px, 1.2vw, 16px)/1.6 Inter, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Arial, sans-serif;
    -webkit-tap-highlight-color: transparent;
    background:
      radial-gradient(1200px 700px at 80% -10%, rgba(201,133,82,.12), transparent 60%),
      radial-gradient(900px 600px at 10% 30%, rgba(240,169,183,.12), transparent 60%),
      linear-gradient(180deg, var(--bg1), var(--bg2));
  }

  /* --- HEADER / INTRO classique --- */
  header.site{
    position:sticky; top:0; z-index:10;
    background:linear-gradient(to bottom, rgba(255,255,255,.85), rgba(255,255,255,0));
    border-bottom:1px solid var(--line); backdrop-filter: blur(8px) saturate(1.05);
  }
  .nav{display:flex; justify-content:space-between; align-items:center; max-width:1100px; margin:auto; padding:12px 20px;}
  .brand{display:flex; gap:10px; align-items:center; font-weight:800; letter-spacing:.4px}
  .mug{width:18px; height:18px; border-radius:4px 4px 10px 10px; position:relative;
    background:linear-gradient(180deg, var(--primary), #b77448);
    box-shadow:0 6px 14px rgba(201,133,82,.35) inset, 0 1px 0 rgba(255,255,255,.6)}
  .mug:after{content:""; position:absolute; right:-6px; top:4px; width:8px; height:8px; border:3px solid #b77448; border-left-color:transparent; border-bottom-color:transparent; border-radius:50%}
  .cta{ display:inline-block; padding:10px 14px; border-radius:999px; font-weight:700; background:#fff; border:1px solid var(--line); box-shadow:0 8px 18px rgba(90,60,30,.12); color:var(--ink); }

  .hero{
    max-width:1100px; margin:24px auto 0; padding:28px 20px 10px;
    display:grid; grid-template-columns:1.2fr .8fr; gap:26px; align-items:center;
  }
  @media (max-width:920px){ .hero{ grid-template-columns:1fr; } }
  .hero h1{ font-size: clamp(28px, 5vw, 48px); margin:.2rem 0 .4rem }
  .lead{ color:var(--muted); font-size: clamp(15px, 2.2vw, 18px) }
  .tile{ border:1px solid var(--line); background:#fff; border-radius:16px; padding:16px; box-shadow:0 8px 20px rgba(90,60,30,.08); }
  .welcome{ max-width:1100px; margin:18px auto 0; padding:0 20px; display:grid; gap:18px; grid-template-columns:repeat(3,1fr); }
  @media (max-width:920px){ .welcome{ grid-template-columns:1fr; } }
  .welcome .tile h3{ margin:.2rem 0 .4rem }

  /* Grand espace avant les cartes (demande client) */
  .spacer{
    height: 160vh; display:flex; align-items:center; justify-content:center; color:var(--muted);
  }

  /* --- Section CARTES d√©filantes (sans 3D) --- */
  section#cartes{
    height: 100vh;
    scroll-snap-type: y mandatory; /* le container snap */
    overflow-y: auto;
    overscroll-behavior: contain;   /* pas d‚Äô√©lastique */
    position: relative;
    border-top:1px solid var(--line);
    box-shadow: 0 -10px 30px rgba(90,60,30,.06) inset;
    -webkit-overflow-scrolling: touch;
  }

  /* Progress (colonne droite) */
  .progress{
    position:sticky; top:12px; right:12px; float:right; margin:12px;
    width:6px; height: calc(100vh - 24px); border-radius:999px; background:#eadfce; overflow:hidden; border:1px solid var(--line);
  }
  .progress i{display:block; width:100%; height:0%; background:linear-gradient(180deg,var(--primary),var(--rose));}

  /* Une ‚Äúslide‚Äù = 1 √©cran */
  .slide{
    min-height: 100vh;
    scroll-snap-align: start;
    display:grid; place-items:center;
    padding: 18px;
    position: relative;
  }

  /* Carte (style bar √† chat), aucune 3D */
  .card{
    width:min(680px, 92vw);
    border-radius: var(--radius);
    background:linear-gradient(180deg, var(--panel), #fffaf6);
    border:1px solid var(--line);
    box-shadow: 0 18px 40px rgba(90,60,30,.12), 0 1px 0 rgba(255,255,255,.8) inset;
    padding: clamp(16px, 3.2vw, 24px);
    position:relative;
    transform-origin: 50% 60%;
    /* √©tat ‚Äúau repos‚Äù (pour WAAPI fallback) */
  }
  /* oreilles de chat */
  .card:before,.card:after{
    content:""; position:absolute; top:-12px; width:26px; height:26px; background:var(--panel);
    border:1px solid var(--line); transform: rotate(45deg)
  }
  .card:before{left:28px; border-bottom:none; border-right:none}
  .card:after{right:28px; border-bottom:none; border-left:none}

  .chip{display:inline-block; padding:4px 8px; border-radius:999px; font-size:12px;
        background:linear-gradient(180deg,#fff,#fde9e9); color:#7a3b44; border:1px solid #f1d1d8; margin-right:6px}
  .chip.mint{ background:linear-gradient(180deg,#fff,#e9f7f5); color:#2b605a; border-color:#cfece8 }
  .chip.caramel{ background:linear-gradient(180deg,#fff,#f5e6d8); color:#7b4a2c; border-color:#ecd7c3 }

  .card h2{margin:.2rem 0 .4rem; font-size: clamp(20px, 4.8vw, 28px)}
  .card p{color:var(--muted); margin:.2rem 0; font-size: clamp(14px, 3.8vw, 16px)}

  .media{ margin-top:10px; border-radius:14px; overflow:hidden; border:1px solid #efdfd1; background:#fff;
          box-shadow:0 10px 18px rgba(90,60,30,.08); }
  .media img{ width:100%; height:auto; display:block; }

  /* √âtat visuel ‚Äúactive‚Äù (au centre) */
  .slide.is-active .card{
    outline: 2px solid rgba(224,138,160,.22);
    box-shadow: 0 28px 64px rgba(90,60,30,.14), 0 0 0 1px rgba(255,255,255,.6) inset;
  }

  /* Pattes discr√®tes sur toute la page */
  .paws{
    position:fixed; inset:-40px; z-index:-1; pointer-events:none; opacity:.07; mix-blend-mode:multiply;
    background:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="220" height="220" viewBox="0 0 220 220"><g fill="%23c8b6a6"><circle cx="40" cy="40" r="10"/><circle cx="65" cy="30" r="8"/><circle cx="25" cy="25" r="8"/><circle cx="50" cy="60" r="8"/><path d="M85 85c18-12 34 8 20 20s-38 2-20-20z"/></g></svg>') repeat;
    background-size:220px 220px; animation:paws 14s linear infinite;
  }
  @keyframes paws { to { transform: translate(110px,110px) } }

  /* Bouton retour haut (facile sur mobile) */
  .backTop{
    position:fixed; right:12px; bottom:16px; z-index:30;
    width:48px; height:48px; border-radius:14px; border:1px solid var(--line); background:#fff; color:var(--ink);
    box-shadow:0 10px 24px rgba(90,60,30,.12); font-size:18px; display:grid; place-items:center;
  }
</style>
</head>
<body>

<div class="paws" aria-hidden="true"></div>

<!-- INTRO -->
<header class="site">
  <nav class="nav">
    <div class="brand"><span class="mug" aria-hidden="true"></span> Bar √† Chat</div>
    <a class="cta" href="#cartes">Aller aux cartes ‚Üì</a>
  </nav>
</header>

<section class="hero" id="top">
  <div>
    <h1>Bienvenue au Bar √† Chat</h1>
    <p class="lead">Un endroit cosy pour savourer un cappuccino, rencontrer nos pensionnaires et soutenir l‚Äôadoption responsable.</p>
    <a class="cta" href="#cartes">D√©couvrir les cartes</a>
  </div>
  <div class="tile" style="align-self:stretch;">
    <h3>Horaires & Ambiance</h3>
    <p>Ouvert tous les jours de 10h √† 20h. Espace calme, livres, plaid, wifi ‚Äî et des chats heureux üêæ</p>
  </div>
</section>

<section class="welcome">
  <div class="tile"><h3>Adoptions</h3><p>Avec nos associations partenaires, nous facilitons l‚Äôadoption responsable.</p></div>
  <div class="tile"><h3>√âthique</h3><p>Bien-√™tre f√©lin : repos, soins, zones calmes et r√®gles claires.</p></div>
  <div class="tile"><h3>√âv√®nements</h3><p>Ateliers, lectures, rencontres ‚Äî suivez nos r√©seaux pour les dates.</p></div>
</section>

<section class="spacer" aria-hidden="true">
  <div>‚Üì Faites d√©filer pour d√©couvrir nos cartes plein √©cran ‚Üì</div>
</section>

<!-- CARTES d√©filantes, sans 3D -->
<section id="cartes" aria-label="Cartes d√©filantes">
  <div class="progress" aria-hidden="true"><i id="progBar"></i></div>

  <div class="slide" data-i="1">
    <article class="card">
      <span class="chip caramel">Concept</span>
      <h2>Le concept</h2>
      <p>Un caf√© chaleureux o√π l‚Äôon partage un moment avec des chats adoptables, soutenu par des associations locales.</p>
      <div class="media"><img src="imagesBar/imageBar1.png" alt="Illustration du concept du bar √† chat"></div>
    </article>
  </div>

  <div class="slide" data-i="2">
    <article class="card">
      <span class="chip mint">Chats</span>
      <h2>Nos chats</h2>
      <p>Des boules de poils curieuses et c√¢lines. Respect du rythme, zones de repos, interaction douce.</p>
      <div class="media"><img src="imagesBar/imageBar2.png" alt="Photo de chats du bar √† chat"></div>
    </article>
  </div>

  <div class="slide" data-i="3">
    <article class="card">
      <span class="chip caramel">Menu</span>
      <h2>Au menu</h2>
      <p>Cappuccino, latte, p√¢tisseries maison, options v√©g√©tales‚Ä¶ et eau fra√Æche pour nos f√©lins.</p>
      <div class="media"><img src="imagesBar/imageBar3.png" alt="Image de boissons et p√¢tisseries du menu"></div>
    </article>
  </div>

  <div class="slide" data-i="4">
    <article class="card">
      <span class="chip">Engagements</span>
      <h2>Nos engagements</h2>
      <p>Bien-√™tre animal, hygi√®ne irr√©prochable, partenariats transparents, sensibilisation & adoptions responsables.</p>
      <div class="media"><img src="imagesBar/imageBar4.png" alt="Illustration de nos engagements et valeurs"></div>
    </article>
  </div>

  <div class="slide" data-i="5">
    <article class="card">
      <span class="chip mint">Nous trouver</span>
      <h2>Comment nous trouver</h2>
      <p>Adresse, transports, stationnement et horaires ‚Äî tout pour venir sans stress.</p>
      <div class="media"><img src="imagesBar/imageBar5.png" alt="Carte d‚Äôacc√®s ou plan pour nous trouver"></div>
    </article>
  </div>
</section>

<a class="backTop" href="#top" title="Retour √† l‚Äôintro">‚Üë</a>

<script>
/* =========================
   D√©filement vertical ‚Äúfort‚Äù sans 3D
   - Scroll-snap : chaque slide s‚Äôaligne plein √©cran.
   - IntersectionObserver + Web Animations API pour des entr√©es/sorties fluides (scale/translate/blur/opacity).
   - Barre de progression sur la droite.
   ========================= */
(function(){
  const container = document.getElementById('cartes');
  const slides = Array.from(container.querySelectorAll('.slide'));
  const progBar = document.getElementById('progBar');

  // Easing cubic-bezier ‚Äú√©nergique mais propre‚Äù
  const E_IN  = 'cubic-bezier(.2,.8,.2,1)';
  const E_OUT = 'cubic-bezier(.2,.8,.2,1)';

  // Animation builders
  function enterAnim(card){
    // de bas + l√©ger zoom + blur -> net
    card.animate([
      { transform:'translateY(60px) scale(.94)', filter:'blur(8px)', opacity:0 },
      { transform:'translateY(0) scale(1)',      filter:'blur(0px)', opacity:1 }
    ], { duration:520, easing:E_OUT, fill:'both' });
  }
  function exitUpAnim(card){
    // remonte et s‚Äôatt√©nue (si on scrolle vers le bas, la slide pr√©c√©dente sort par le haut)
    card.animate([
      { transform:'translateY(0) scale(1)', filter:'blur(0px)', opacity:1 },
      { transform:'translateY(-60px) scale(.98)', filter:'blur(6px)', opacity:0.25 }
    ], { duration:420, easing:E_IN, fill:'both' });
  }
  function exitDownAnim(card){
    // redescend et s‚Äôatt√©nue (si on remonte)
    card.animate([
      { transform:'translateY(0) scale(1)', filter:'blur(0px)', opacity:1 },
      { transform:'translateY(60px) scale(.98)', filter:'blur(6px)', opacity:0.25 }
    ], { duration:420, easing:E_IN, fill:'both' });
  }

  // IO : active la slide au centre de l‚Äô√©cran
  const io = new IntersectionObserver((entries)=>{
    entries.forEach(ent=>{
      const slide = ent.target;
      const card = slide.querySelector('.card');
      if(ent.isIntersecting && ent.intersectionRatio > 0.6){
        slide.classList.add('is-active');
        enterAnim(card);
      }else{
        // choisir sens : si la slide est au-dessus, on sort vers le haut
        const rect = slide.getBoundingClientRect();
        slide.classList.remove('is-active');
        if(rect.top < 0) exitUpAnim(card); else exitDownAnim(card);
      }
    });
    updateProgress();
  }, {threshold:[0, .6, 1]});
  slides.forEach(s=>io.observe(s));

  function updateProgress(){
    // ratio = index moyen visible / total
    const h = container.scrollHeight - container.clientHeight;
    const y = container.scrollTop;
    const p = h>0 ? y/h : 0;
    progBar.style.height = (p*100).toFixed(1)+'%';
  }

  // Scroll handling : doux & pr√©cis sur mobile
  container.addEventListener('scroll', ()=>{ updateProgress(); }, {passive:true});

  // Pour un ‚Äúsnap‚Äù plus franc sur iOS (optionnel) : si arr√™t proche, on force au centre
  let snapTO=null;
  container.addEventListener('scroll', ()=>{
    clearTimeout(snapTO);
    snapTO = setTimeout(()=>{
      // slide la plus proche du centre
      const mid = window.innerHeight/2;
      let best=null, dmin=1e9;
      for(const s of slides){
        const r = s.getBoundingClientRect();
        const c = r.top + r.height/2;
        const d = Math.abs(c - mid);
        if(d<dmin){ dmin=d; best=s; }
      }
      if(best){
        best.scrollIntoView({behavior:'smooth', block:'start'});
      }
    }, 120); // petit d√©lai apr√®s l‚Äôarr√™t du scroll
  }, {passive:true});

  // Tap sur progress (facultatif) ‚Üí sauter √† la slide
  // (simple: click au-dessus = remonter, en-dessous = descendre)
  document.querySelector('.progress')?.addEventListener('click', (e)=>{
    const y = e.clientY;
    const mid = window.innerHeight/2;
    const idx = slides.findIndex(s=>s.classList.contains('is-active'));
    if(y < mid && idx > 0) slides[idx-1].scrollIntoView({behavior:'smooth'});
    if(y >= mid && idx < slides.length-1) slides[idx+1].scrollIntoView({behavior:'smooth'});
  });

})();
</script>
</body>
</html>
