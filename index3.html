<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Bar à Chat — Intro + Cartes</title>
<meta name="description" content="Introduction avec logo et pitch, puis cartes plein écran en défilement vertical avec menu de navigation sticky.">
<style>
  :root{
    --bg1:#f8f3ec; --bg2:#f3e7da; --ink:#2b2623; --muted:#6d625b;
    --primary:#c98552; --accent:#79c9bf; --rose:#f0a9b7;
    --panel:#ffffff; --line:#eadccd; --focus:#e08aa0;
    --radius:18px;
  }
  *{box-sizing:border-box}
  html,body{height:100%; margin:0}
  html{scroll-behavior:smooth}
  body{
    color:var(--ink);
    font: clamp(14px, 1.2vw, 16px)/1.6 Inter, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Arial, sans-serif;
    -webkit-tap-highlight-color: transparent;
    background:
      radial-gradient(1200px 700px at 80% -10%, rgba(201,133,82,.12), transparent 60%),
      radial-gradient(900px 600px at 10% 30%, rgba(240,169,183,.12), transparent 60%),
      linear-gradient(180deg, var(--bg1), var(--bg2));
  }

  /* --- NAV sticky qui apparaît au scroll --- */
  header.site{
    position:sticky; top:0; z-index:20;
    backdrop-filter: blur(8px) saturate(1.05);
    border-bottom:1px solid var(--line);
    transition: background .3s ease, box-shadow .3s ease, opacity .3s ease;
    background:linear-gradient(to bottom, rgba(255,255,255,.0), rgba(255,255,255,.0));
    opacity:.0; pointer-events:none;
  }
  body.scrolled header.site{
    background:linear-gradient(to bottom, rgba(255,255,255,.85), rgba(255,255,255,.65));
    box-shadow:0 8px 24px rgba(90,60,30,.08);
    opacity:1; pointer-events:auto;
  }
  .nav{
    display:flex; justify-content:space-between; align-items:center;
    max-width:1100px; margin:auto; padding:12px 20px;
  }
  .brand{display:flex; gap:10px; align-items:center; font-weight:800; letter-spacing:.4px}
  .logo{
    position:relative; width:28px; height:28px; border-radius:7px 7px 14px 14px;
    background:linear-gradient(180deg, var(--primary), #b77448);
    box-shadow:0 6px 14px rgba(201,133,82,.35) inset, 0 1px 0 rgba(255,255,255,.6);
  }
  .logo:after{
    content:""; position:absolute; right:-7px; top:6px; width:10px; height:10px;
    border:3px solid #b77448; border-left-color:transparent; border-bottom-color:transparent; border-radius:50%
  }
  .menu{display:flex; gap:10px; align-items:center; flex-wrap:wrap}
  .menu a{
    display:inline-block; padding:8px 10px; border-radius:999px;
    border:1px solid var(--line); background:#fff; color:var(--ink); text-decoration:none; font-weight:600; font-size:13px;
  }
  .menu a.is-active{ outline:2px solid rgba(224,138,160,.28) }

  /* --- INTRO plein écran --- */
  #intro{
    min-height:100svh; display:grid; place-items:center; padding:24px 20px; position:relative;
  }
  .introBox{
    max-width:min(860px, 92vw); text-align:center;
    border:1px solid var(--line); border-radius:22px; background:#fff;
    padding: clamp(20px, 5vw, 36px);
    box-shadow:0 18px 50px rgba(90,60,30,.14);
  }
  .introLogo{
    width:92px; height:92px; border-radius:22px;
    background:
      radial-gradient(24px 24px at 65% 35%, #fff8, transparent),
      linear-gradient(180deg, var(--primary), #b77448);
    margin:0 auto 14px; position:relative; box-shadow:0 8px 26px rgba(201,133,82,.32);
  }
  .introLogo:before, .introLogo:after{
    content:""; position:absolute; top:-10px; width:22px; height:22px; background:#fff; border:2px solid var(--line); transform:rotate(45deg);
  }
  .introLogo:before{ left:14px; border-bottom:none; border-right:none }
  .introLogo:after{ right:14px; border-bottom:none; border-left:none }
  .introBox h1{ font-size: clamp(28px, 5vw, 52px); margin:.2rem 0 .4rem }
  .introLead{ color:var(--muted); font-size: clamp(15px, 2.2vw, 18px); margin:.3rem auto 1rem; }
  .introCtas{ display:flex; gap:10px; justify-content:center; flex-wrap:wrap; }
  .cta{
    display:inline-block; padding:10px 14px; border-radius:999px; font-weight:700;
    background:#fff; border:1px solid var(--line); box-shadow:0 8px 18px rgba(90,60,30,.12); color:var(--ink); text-decoration:none;
  }

  /* --- CARTES défilantes (sans 3D) --- */
  section#cartes{
    height: 100vh;
    scroll-snap-type: y mandatory;
    overflow-y: auto;
    overscroll-behavior: contain;
    position: relative;
    border-top:1px solid var(--line);
    box-shadow: 0 -10px 30px rgba(90,60,30,.06) inset;
    -webkit-overflow-scrolling: touch;
  }
  .progress{
    position:sticky; top:12px; right:12px; float:right; margin:12px;
    width:6px; height: calc(100vh - 24px); border-radius:999px; background:#eadfce; overflow:hidden; border:1px solid var(--line);
  }
  .progress i{display:block; width:100%; height:0%; background:linear-gradient(180deg,var(--primary),var(--rose));}

  .slide{
    min-height:100vh; scroll-snap-align:start; display:grid; place-items:center; padding:18px; position:relative;
  }
  .card{
    width:min(720px, 92vw);
    border-radius: var(--radius);
    background:linear-gradient(180deg, var(--panel), #fffaf6);
    border:1px solid var(--line);
    box-shadow: 0 18px 40px rgba(90,60,30,.12), 0 1px 0 rgba(255,255,255,.8) inset;
    padding: clamp(16px, 3.2vw, 24px);
    position:relative; transform-origin:50% 60%;
  }
  .card:before,.card:after{content:""; position:absolute; top:-12px; width:26px; height:26px; background:var(--panel); border:1px solid var(--line); transform: rotate(45deg)}
  .card:before{left:28px; border-bottom:none; border-right:none}
  .card:after{right:28px; border-bottom:none; border-left:none}

  .chip{display:inline-block; padding:4px 8px; border-radius:999px; font-size:12px;
        background:linear-gradient(180deg,#fff,#fde9e9); color:#7a3b44; border:1px solid #f1d1d8; margin-right:6px}
  .chip.mint{ background:linear-gradient(180deg,#fff,#e9f7f5); color:#2b605a; border-color:#cfece8 }
  .chip.caramel{ background:linear-gradient(180deg,#fff,#f5e6d8); color:#7b4a2c; border-color:#ecd7c3 }
  .card h2{margin:.2rem 0 .4rem; font-size: clamp(20px, 4.8vw, 28px)}
  .card p{color:var(--muted); margin:.2rem 0; font-size: clamp(14px, 3.8vw, 16px)}
  .media{ margin-top:10px; border-radius:14px; overflow:hidden; border:1px solid #efdfd1; background:#fff; box-shadow:0 10px 18px rgba(90,60,30,.08); }
  .media img{ width:100%; height:auto; display:block; }

  .slide.is-active .card{
    outline: 2px solid rgba(224,138,160,.22);
    box-shadow: 0 28px 64px rgba(90,60,30,.14), 0 0 0 1px rgba(255,255,255,.6) inset;
  }

  /* pattes décoratives */
  .paws{
    position:fixed; inset:-40px; z-index:-1; pointer-events:none; opacity:.07; mix-blend-mode:multiply;
    background:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="220" height="220" viewBox="0 0 220 220"><g fill="%23c8b6a6"><circle cx="40" cy="40" r="10"/><circle cx="65" cy="30" r="8"/><circle cx="25" cy="25" r="8"/><circle cx="50" cy="60" r="8"/><path d="M85 85c18-12 34 8 20 20s-38 2-20-20z"/></g></svg>') repeat;
    background-size:220px 220px; animation:paws 14s linear infinite;
  }
  @keyframes paws { to { transform: translate(110px,110px) } }

  .backTop{
    position:fixed; right:12px; bottom:16px; z-index:30;
    width:48px; height:48px; border-radius:14px; border:1px solid var(--line); background:#fff; color:var(--ink);
    box-shadow:0 10px 24px rgba(90,60,30,.12); font-size:18px; display:grid; place-items:center;
  }
</style>
</head>
<body>

<div class="paws" aria-hidden="true"></div>

<!-- NAV -->
<header class="site" id="siteHeader">
  <nav class="nav">
    <div class="brand"><span class="logo" aria-hidden="true"></span> Bar à Chat</div>
    <div class="menu">
      <a href="#intro" data-target="intro" class="is-active">Intro</a>
      <a href="#c1" data-target="c1">Concept</a>
      <a href="#c2" data-target="c2">Chats</a>
      <a href="#c3" data-target="c3">Menu</a>
      <a href="#c4" data-target="c4">Engagements</a>
      <a href="#c5" data-target="c5">Nous trouver</a>
    </div>
  </nav>
</header>

<!-- INTRO -->
<section id="intro" aria-label="Introduction">
  <div class="introBox">
    <div class="introLogo" aria-hidden="true"></div>
    <h1>Bienvenue au Bar à Chat</h1>
    <p class="introLead">Un lieu cosy pour savourer un cappuccino, rencontrer nos pensionnaires et soutenir l’adoption responsable.  
      Bien-être félin, douceur, et moments de calme — miaou.</p>
    <div class="introCtas">
      <a class="cta" href="#cartes">Découvrir les cartes ↓</a>
      <a class="cta" href="#c5">Nous trouver</a>
    </div>
  </div>
</section>

<!-- CARTES défilantes -->
<section id="cartes" aria-label="Cartes défilantes">
  <div class="progress" aria-hidden="true"><i id="progBar"></i></div>

  <div class="slide" id="c1">
    <article class="card">
      <span class="chip caramel">Concept</span>
      <h2>Le concept</h2>
      <p>Un café chaleureux où l’on partage un moment avec des chats adoptables, soutenu par des associations locales.</p>
      <div class="media"><img src="imagesBar/imageBar1.png" alt="Illustration du concept du bar à chat"></div>
    </article>
  </div>

  <div class="slide" id="c2">
    <article class="card">
      <span class="chip mint">Chats</span>
      <h2>Nos chats</h2>
      <p>Des boules de poils curieuses et câlines. Respect du rythme, zones de repos, interaction douce.</p>
      <div class="media"><img src="imagesBar/imageBar2.png" alt="Photo de chats du bar à chat"></div>
    </article>
  </div>

  <div class="slide" id="c3">
    <article class="card">
      <span class="chip caramel">Menu</span>
      <h2>Au menu</h2>
      <p>Cappuccino, latte, pâtisseries maison, options végétales… et eau fraîche pour nos félins.</p>
      <div class="media"><img src="imagesBar/imageBar3.png" alt="Image de boissons et pâtisseries du menu"></div>
    </article>
  </div>

  <div class="slide" id="c4">
    <article class="card">
      <span class="chip">Engagements</span>
      <h2>Nos engagements</h2>
      <p>Bien-être animal, hygiène irréprochable, partenariats transparents, sensibilisation & adoptions responsables.</p>
      <div class="media"><img src="imagesBar/imageBar4.png" alt="Illustration de nos engagements et valeurs"></div>
    </article>
  </div>

  <div class="slide" id="c5">
    <article class="card">
      <span class="chip mint">Nous trouver</span>
      <h2>Comment nous trouver</h2>
      <p>Adresse, transports, stationnement et horaires — tout pour venir sans stress.</p>
      <div class="media"><img src="imagesBar/imageBar5.png" alt="Carte d’accès ou plan pour nous trouver"></div>
    </article>
  </div>
</section>

<a class="backTop" href="#intro" title="Retour à l’intro">↑</a>

<script>
/* ====== Animations d’entrée/sortie + menu sticky qui apparaît + scrollspy ====== */
(function(){
  const header = document.getElementById('siteHeader');
  const container = document.getElementById('cartes');
  const progBar = document.getElementById('progBar');
  const slides = Array.from(container.querySelectorAll('.slide'));
  const menuLinks = Array.from(document.querySelectorAll('.menu a'));

  // Header: apparaît après quelques pixels
  const onScrollGlobal = ()=>{
    if(window.scrollY > 24) document.body.classList.add('scrolled');
    else document.body.classList.remove('scrolled');
  };
  addEventListener('scroll', onScrollGlobal, {passive:true}); onScrollGlobal();

  // Easing cubic-bezier énergique et propre
  const E = 'cubic-bezier(.2,.8,.2,1)';
  function enterAnim(card){
    card.animate([
      { transform:'translateY(60px) scale(.94)', filter:'blur(8px)', opacity:0 },
      { transform:'translateY(0) scale(1)',      filter:'blur(0px)', opacity:1 }
    ], { duration:520, easing:E, fill:'both' });
  }
  function exitUp(card){
    card.animate([
      { transform:'translateY(0) scale(1)', filter:'blur(0px)', opacity:1 },
      { transform:'translateY(-60px) scale(.98)', filter:'blur(6px)', opacity:0.25 }
    ], { duration:420, easing:E, fill:'both' });
  }
  function exitDown(card){
    card.animate([
      { transform:'translateY(0) scale(1)', filter:'blur(0px)', opacity:1 },
      { transform:'translateY(60px) scale(.98)', filter:'blur(6px)', opacity:0.25 }
    ], { duration:420, easing:E, fill:'both' });
  }

  // IO sur les slides pour animer + scrollspy nav
  const io = new IntersectionObserver((entries)=>{
    entries.forEach(ent=>{
      const slide = ent.target;
      const card = slide.querySelector('.card');
      const id = slide.id;
      // scrollspy: active le lien correspondant
      if(ent.isIntersecting && ent.intersectionRatio > 0.6){
        slide.classList.add('is-active');
        enterAnim(card);
        menuLinks.forEach(a=>a.classList.toggle('is-active', a.dataset.target===id || a.getAttribute('href')==='#'+id));
      }else{
        const r = slide.getBoundingClientRect();
        slide.classList.remove('is-active');
        if(r.top < 0) exitUp(card); else exitDown(card);
      }
    });
    updateProgress();
  }, {threshold:[0,.6,1]});
  slides.forEach(s=>io.observe(s));

  // Barre de progression (hauteur selon scroll interne au container)
  function updateProgress(){
    const h = container.scrollHeight - container.clientHeight;
    const y = container.scrollTop;
    const p = h>0 ? y/h : 0;
    progBar.style.height = (p*100).toFixed(1)+'%';
  }
  container.addEventListener('scroll', ()=>{ updateProgress(); }, {passive:true});

  // Snap helper (iOS) : quand on s’arrête, on recale la slide la plus proche
  let snapTO=null;
  container.addEventListener('scroll', ()=>{
    clearTimeout(snapTO);
    snapTO = setTimeout(()=>{
      const mid = window.innerHeight/2;
      let best=null, dmin=1e9;
      for(const s of slides){
        const r = s.getBoundingClientRect();
        const c = r.top + r.height/2;
        const d = Math.abs(c - mid);
        if(d<dmin){ dmin=d; best=s; }
      }
      if(best){ best.scrollIntoView({behavior:'smooth', block:'start'}); }
    }, 120);
  }, {passive:true});

  // Liens du menu: si cible = slide dans #cartes, on scrolle d’abord au container puis à la slide
  menuLinks.forEach(a=>{
    a.addEventListener('click', (e)=>{
      const href = a.getAttribute('href') || '';
      if(href.startsWith('#c')){ // c1..c5 sont dans #cartes
        e.preventDefault();
        document.getElementById('cartes').scrollIntoView({behavior:'smooth'});
        setTimeout(()=>{
          document.querySelector(href)?.scrollIntoView({behavior:'smooth', block:'start'});
        }, 250);
      }
      // sinon (intro), comportement par défaut
    });
  });

})();
</script>
</body>
</html>
